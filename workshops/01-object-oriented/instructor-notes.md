# 第1回 オブジェクト指向 — 講師補助資料

## この回の核心

> 「変更に強いコードは、責務が明確で依存が制御されている」

SOLID原則のすべてを均等に扱うのではなく、**S（単一責任）** と **D（依存性逆転）** を最も厚く扱う。この2つがフェーズ2以降の全テーマの土台になる。

## 講師の事前準備チェックリスト

- [ ] SOLID原則ごとに「自分の言葉での1文説明」を用意する
- [ ] Bad/Good のTypeScriptコード例を最低3セット動作確認する
- [ ] 「SOLID原則を過剰適用した失敗例」のエピソードを1つ準備する
- [ ] 第0回の課題・参加者の反応を確認し、理解度のベースラインを把握する

## 時間配分ガイド

| パート | 配分 | 注意点 |
|--------|------|--------|
| 前回振り返り | 5分 | 第0回の感想を2〜3人に聞く |
| OOPの本質 | 15分 | 「継承よりコンポジション」は深入りしすぎない |
| **SOLID原則** | **50分** | S:12分、O:10分、L:8分、I:8分、D:12分 |
| 実務での適用 | 15分 | YAGNI との折り合いが参加者の関心が高いポイント |
| 休憩 | 10分 | |
| ディスカッション | 20分 | |
| Q&A + 次回予告 | 15分 | |

## 各原則の教え方のポイント

### S（単一責任の原則）
- 「変更理由が1つだけ」という定義は抽象的すぎるので、具体例で示す
- Bad例: `OrderService` に計算・フォーマット・メール送信が全部入っている
- **問いかけ:** 「このクラスを変更する理由は何個ありますか？」

### O（開放閉鎖の原則）
- Strategy パターンとセットで教えると具体的になる
- **問いかけ:** 「新しい割引タイプを追加するとき、既存コードのどこを変更しますか？」

### L（リスコフの置換原則）
- 最も理解が難しい。「正方形は長方形か」の古典例より、TypeScriptの実例で
- 時間が押したら軽めにして「サブタイプは基底型の約束を守る」だけ伝える

### I（インターフェース分離の原則）
- TypeScriptでは interface の分割で直感的に示せる
- **問いかけ:** 「使わないメソッドがある interface を実装するとき、どう感じますか？」

### D（依存性逆転の原則）
- **この回で最も重要。** 第4回Repository、第5回DDD、第6回クリーンアーキテクチャに直結
- コード例でインターフェースを挟む前/後を見せる
- 「テストが書きやすくなる」という実利も強調する

## 想定される質問と回答例

| 質問 | 回答の方向性 |
|------|-------------|
| 「TypeScriptではクラスをあまり使わないのでは？」 | 「関数型で書く場合もSOLIDの考え方は適用できる。責務の分離は関数単位でも同じ」 |
| 「SOLIDを厳格に守ろうとするとファイルが増えすぎる」 | 「まさにそれが過剰適用の罠。YAGNIとのバランスが大事で、第4回で詳しく扱う」 |
| 「interfaceとabstract classの使い分けは？」 | 「TypeScriptではinterfaceが基本。共通実装を持ちたい場合のみabstract classを検討」 |
| 「現場でSOLIDを意識してる人はどれくらいいますか？」 | 「名前を意識してなくても良い設計を書く人はSOLIDに沿っていることが多い。言語化できることが議論の質を上げる」 |

## ライブコーディングのコツ

- 最初にBad例を見せて「何が問題か」を参加者に考えさせる
- いきなりGood例を見せず、段階的にリファクタリングしていく過程を見せる
- コード例はREADMEのものをベースに、自分の業務ドメインに置き換えると臨場感が出る

## 次回（第2回 RDB）への橋渡し

- 「今日学んだ依存性逆転でリポジトリの概念が出てきました。次回はそのリポジトリの裏側にあるRDBの世界を学びます」
- 「SQLの基本（SELECT, INSERT, UPDATE, DELETE）が前提になるので、不安な方は復習しておいてください」
